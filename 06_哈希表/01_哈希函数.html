<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>哈希函数</title>
</head>
<body>
    <script>
        // 设计哈希函数
        // 1> 将字符串转成比较大的数字：hashCode
        // 2> 将大的数字hashCode压缩到数组范围（大小）之内
        function hashFunc(str, size) {
            // 1. 定义hashCode变量
            let hashCode = 0

            // 2.霍纳算法 来计算hashCode的值
            // cats -> Unicode编码
            for (let i = 0; i < str.length; i++) {
                // str.charCodeAt(index) 不同索引情况下返回的Unicode值
                hashCode = 37 * hashCode + str.charCodeAt(i) 
            }

            // 3.取余操作
            let index = hashCode % size

            return index
        }


        // 测试哈希函数
        alert(hashFunc('cba', 7))  // 3
        alert(hashFunc('abc', 7))  // 4
        alert(hashFunc('bbc', 7))  // 1
        alert(hashFunc('nba', 7))  // 5
    </script>
</body>
</html>